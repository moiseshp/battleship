(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),c=n.n(i),o=n(9),s=n(12),l=n(76),j=n(92),b=n(171),d=n(52),u=n(16),h=n(172),O=n(174),x=n(157),p=n(96),f=n(158),m=n(72),g=n.n(m),v=n(156),y=n(178),S=Object(v.a)((function(e){return Object(y.a)({wrapper:{display:"flex"},aside:{width:330},sidebar:{position:"sticky",top:e.spacing(3)},content:{width:"calc(100% - ".concat(330,"px)"),marginLeft:e.spacing(3)}})})),w=n(2),z=[{name:"Board",route:"/"},{name:"Games",route:"/games"}],k=function(e){var t=e.children,n=Object(u.g)(),a=S();return Object(w.jsxs)(O.a,{className:a.wrapper,p:3,children:[Object(w.jsx)(O.a,{className:a.aside,textAlign:"center",children:Object(w.jsx)(x.a,{className:a.sidebar,children:Object(w.jsxs)(O.a,{p:3,children:[Object(w.jsx)(g.a,{fontSize:"large"}),Object(w.jsx)(O.a,{mb:3,children:Object(w.jsx)(p.a,{variant:"h5",color:"secondary",children:"BATTLESHIP"})}),z.map((function(e){return Object(w.jsx)(O.a,{my:1.5,children:Object(w.jsx)(f.a,{component:d.b,to:e.route,color:"default",variant:(t=e.route,t===n.pathname?"contained":"outlined"),size:"large",fullWidth:!0,children:e.name})},e.name);var t})),Object(w.jsx)(O.a,{pt:2,children:Object(w.jsxs)(p.a,{variant:"caption",children:["MOISESHP",Object(w.jsx)(O.a,{component:"span",color:"secondary.main",children:" \xa9 "}),(new Date).getFullYear()]})})]})})}),Object(w.jsx)(O.a,{className:a.content,children:t})]})},N=n.p+"static/media/Battleship_Background_1920x1080.2e2018e3.jpg",P={typography:{fontFamily:['"Sigmar One"',"Roboto","Arial","sans-serif"].join(","),fontSize:17},props:{MuiButton:{disableElevation:!0}},palette:{type:"dark",background:{paper:"rgba(0, 0, 0, 0.6)"},primary:{main:"#00ffd1"},secondary:{main:"#ffbe00"},error:{main:"#f00"}},overrides:{MuiCssBaseline:{"@global":{body:{backgroundImage:"url(".concat(N,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}},MuiButton:{root:{borderRadius:35}},MuiPaper:{rounded:{borderRadius:20}}}},C=n(18),I=n(7),M={isActive:!1,maxShotsNumber:-1,positions:[],ships:[],games:[],infinity:-1},B=Object(s.b)({key:"gameIsActiveState",default:M.isActive}),A=Object(s.b)({key:"gamemaxShotsNumberState",default:M.maxShotsNumber}),E=Object(s.b)({key:"gamePositionsState",default:M.positions}),F=Object(s.b)({key:"gameShipsState",default:M.ships}),D=Object(s.b)({key:"gameInfinityState",default:M.infinity}),G=Object(s.b)({key:"gameGamesState",default:M.games}),W=Object(s.c)({key:"gameStatsSelector",get:function(e){var t=e.get,n=t(D),a=t(A),r=t(E),i=t(F);return{maxShotsNumber:a===n?"Infinity":a,numberOfShotsPlayed:r.filter((function(e){return"none"!==e.status})).length,hits:r.filter((function(e){return"success"===e.status})).length,downedShipsNumber:i.filter((function(e){return e.size===e.hits})).length}}}),H=Object(s.c)({key:"gameIsGameOverSelector",get:function(e){var t=e.get,n=t(F);if(n.filter((function(e){return e.size===e.hits})).length===n.length)return!0;var a=t(A),r=t(D),i=t(E).filter((function(e){return"none"!==e.status})).length;return a!==r&&i>=a}}),L=Object(v.a)((function(e){return Object(y.a)({box:function(t){var n=t.border;return{borderWidth:n?1:void 0,borderStyle:n?"solid":void 0,borderColor:e.palette.primary.main,borderRadius:8,width:55,height:55}}})})),R=function(e){var t=e.border,n=e.children,a=L({border:t});return Object(w.jsx)(O.a,{display:"flex",justifyContent:"center",alignItems:"center",className:a.box,color:"primary.main",children:n})},T=function(e){var t=e.headers,n=e.children,a=55*t.cols.length;return Object(w.jsx)(x.a,{children:Object(w.jsxs)(O.a,{display:"flex",pt:2,pr:2,children:[Object(w.jsx)(O.a,{width:55,children:t.rows.map((function(e){return Object(w.jsx)(R,{children:e},e)}))}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(O.a,{display:"flex",flexWrap:"wrap",maxWidth:a,children:n}),Object(w.jsx)(O.a,{display:"flex",children:t.cols.map((function(e){return Object(w.jsx)(R,{children:e},e)}))})]})]})})},J=n(89),_=n.n(J),q=n(90),Y=n.n(q),$=n(5),K=Object($.a)((function(e){return{root:{display:"flex",boxShadow:"none",padding:0,minWidth:"auto",width:"100%",height:"100%",color:"white",borderRadius:0,fontSize:35},"@keyframes zoom":{"0%":{opacity:0,margin:0},"50%":{opacity:1,margin:-5},"100%":{opacity:0,margin:0}},text:{"&:hover":{color:e.palette.error.main,position:"relative",zIndex:0,"&:after":{backgroundColor:"rgba(255, 0, 0, .3)",content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,animation:"$zoom 0.75s infinite",borderRadius:45,boxShadow:"0 0 0 8px rgba(255, 0, 0, .3)",zIndex:-1}}},textSecondary:{"&:disabled":{color:e.palette.error.main}},textPrimary:{"&:disabled":{color:e.palette.primary.main}}}}))(f.a),Q=[{status:"none",color:"default",icon:Object(w.jsx)(_.a,{fontSize:"inherit"})},{status:"error",color:"primary",icon:Object(w.jsx)(Y.a,{fontSize:"inherit"})},{status:"success",color:"secondary",icon:Object(w.jsx)(g.a,{fontSize:"inherit"})}],U=function(e){var t=e.status,n=e.onClick,a=r.a.useState(!1),i=Object(I.a)(a,2),c=i[0],o=i[1],s=Q.find((function(e){return e.status===t})),l=function(e){o("none"!==t||e)};return Object(w.jsx)(K,{color:s.color,variant:"text",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onClick:n,disabled:"none"!==t,children:c&&s.icon})},V=function(e){var t=e.text,n=e.description;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.a,{variant:"h4",gutterBottom:!0,color:"secondary",children:t}),Object(w.jsx)(O.a,{mt:-3,children:Object(w.jsx)(p.a,{variant:"caption",children:n})})]})},X=function(){var e=Object(s.e)(W),t=e.maxShotsNumber,n=e.numberOfShotsPlayed,a=e.hits,r=e.downedShipsNumber;return Object(w.jsx)(x.a,{children:Object(w.jsxs)(O.a,{p:3,children:[Object(w.jsx)(p.a,{variant:"h6",color:"primary",children:"Stats"}),Object(w.jsx)(V,{text:t,description:"Shots allowed"}),Object(w.jsx)(V,{text:n,description:"Shots played"}),Object(w.jsx)(V,{text:a,description:"Hits"}),Object(w.jsx)(V,{text:r,description:"Downed Ships"})]})})},Z=n(159),ee=n(160),te=n(173),ne=n(161),ae=n(179),re=n(162),ie=n(175),ce=["A","B","C","D","E","F","G","H","I","J"],oe=Object(C.a)(new Array(10).keys()).map((function(e){return e+1})),se=[{size:4},{size:3},{size:3},{size:2},{size:2},{size:2},{size:1},{size:1},{size:1},{size:1}],le=function(e){var t=e.length;return e[je(0,t)]},je=function(e,t){return Math.floor(Math.random()*(t-e))+e},be=function(e,t){var n=le(["vertical","horizontal"]),a="vertical"===n,r=a?ce:oe,i=Object(I.a)(e,2),c=i[0],o=i[1],s=a?c:o,l=[];return r.forEach((function(e){if(!(e<s||l.length>=t)){var n=a?e+o:c+e;l=[].concat(Object(C.a)(l),[n])}})),{success:!(l.length!==t),orientation:n,positions:l}},de=function(){return ce.reduce((function(e,t){var n=oe.map((function(e){return t+e}));return[].concat(Object(C.a)(e),Object(C.a)(n))}),[])},ue=function(){return function(e){var t=[];return se.map((function(n,a){for(var r,i=n.size,c=!1;!c;){var s=le(e).split("");(r=be(s,i)).success&&(r.positions.find((function(e){return t.includes(e)}))||(t=[].concat(Object(C.a)(t),Object(C.a)(r.positions)),c=!0))}return Object(o.a)(Object(o.a)({},r),{},{id:a,hits:0,size:i})}))}(de())},he=[{label:"Easy (infinity)",value:"-1"},{label:"Normal (100)",value:"100"},{label:"Hard (50)",value:"50"}],Oe=function(){var e=Object(s.f)(E),t=Object(s.f)(B),n=Object(s.f)(A),a=Object(s.f)(F),i=r.a.useState(""),c=Object(I.a)(i,2),o=c[0],l=c[1],j=r.a.useState(""),b=Object(I.a)(j,2),d=b[0],u=b[1];return Object(w.jsx)(x.a,{children:Object(w.jsxs)(O.a,{p:3,textAlign:"center",maxWidth:400,children:[Object(w.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"SETTING"}),Object(w.jsx)(Z.a,{}),Object(w.jsx)("form",{onSubmit:function(r){r.preventDefault(),e(de().map((function(e){return{status:"none",position:e}}))),t(!0),a(ue()),n(Number(o||d))},children:Object(w.jsxs)(ee.a,{component:"fieldset",children:[Object(w.jsx)(te.a,{placeholder:"Enter attempts",variant:"outlined",value:o,onChange:function(e){l(parseFloat(e.target.value)||""),u("")}}),Object(w.jsxs)(O.a,{py:3,children:[Object(w.jsx)(ne.a,{component:"legend",children:"- or -"}),Object(w.jsx)(ae.a,{"aria-label":"level",name:"level",value:d,onChange:function(e){l(""),u(e.target.value)},children:he.map((function(e){return Object(w.jsx)(re.a,{value:e.value,control:Object(w.jsx)(ie.a,{}),label:e.label},e.value)}))})]}),Object(w.jsx)(f.a,{type:"submit",variant:"outlined",color:"primary",size:"large",disabled:!o&&!d,children:"Play Now"})]})})]})})},xe=n(177),pe=n(163),fe=n(164),me=n(91),ge=n.n(me),ve=function(){var e=Object(u.f)(),t=Object(s.f)(B),n=Object(s.f)(A),a=Object(s.f)(G),r=Object(s.e)(W),i=Object(s.e)(D),c=function(c){t(!1),n(i);var s,l=(s=r,Object(o.a)(Object(o.a)({},s),{},{id:Math.round(Math.random()*Math.pow(36,12)).toString(36),date:new Date}));a((function(e){return[].concat(Object(C.a)(e),[l])})),"toGoPage"===c&&e.push("/games")};return Object(w.jsxs)(xe.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",PaperProps:{style:{backgroundColor:"#000"}},children:[Object(w.jsx)(pe.a,{children:Object(w.jsx)(O.a,{textAlign:"center",px:4,children:"Game Over!"})}),Object(w.jsxs)(fe.a,{children:[Object(w.jsx)(f.a,{variant:"contained",color:"secondary",startIcon:Object(w.jsx)(ge.a,{}),onClick:c,fullWidth:!0,children:"Play again"}),Object(w.jsx)(O.a,{my:2,children:Object(w.jsx)(f.a,{variant:"outlined",color:"primary",onClick:function(){return c("toGoPage")},fullWidth:!0,children:"Game Stats"})})]})]})},ye="Shot hit the ship!",Se="Success! Downed ship",we="Missed shot!",ze=function(){var e={rows:ce,cols:oe},t=Object(s.e)(B),n=Object(s.d)(E),a=Object(I.a)(n,2),r=a[0],i=a[1],c=Object(s.d)(F),j=Object(I.a)(c,2),b=j[0],d=j[1],u=Object(s.e)(H),h=Object(l.b)().enqueueSnackbar;return Object(w.jsx)(O.a,{display:"flex",children:t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(O.a,{children:Object(w.jsx)(T,{headers:e,children:r.map((function(e){var t=e.position,n=e.status;return Object(w.jsx)(R,{border:!0,children:Object(w.jsx)(U,{status:n,onClick:function(){return function(e){var t=b.find((function(t){return t.positions.includes(e)})),n="error";if(t){n="success";var a=b.filter((function(e){return e.id!==t.id})),c=Object(o.a)(Object(o.a)({},t),{},{hits:t.hits+1});d([].concat(Object(C.a)(a),[c])),h(ye,{variant:n}),c.size===c.hits&&h(Se,{variant:n})}else h(we,{variant:n});var s=r.map((function(t){return{position:t.position,status:t.position===e?n:t.status}}));i(s)}(t)}})},t)}))})}),Object(w.jsx)(O.a,{ml:3,children:Object(w.jsx)(X,{})}),u&&Object(w.jsx)(ve,{})]}):Object(w.jsx)(Oe,{})})},ke=n(165),Ne=n(166),Pe=n(167),Ce=n(168),Ie=n(169),Me=n(170),Be=function(){var e=Object(s.e)(G);return Object(w.jsx)(O.a,{maxWidth:980,children:Object(w.jsx)(ke.a,{component:x.a,children:Object(w.jsxs)(Ne.a,{"aria-label":"games",children:[Object(w.jsx)(Pe.a,{children:Object(w.jsxs)(Ce.a,{children:[Object(w.jsx)(Ie.a,{children:"#"}),Object(w.jsx)(Ie.a,{align:"right",children:"Shots allowed"}),Object(w.jsx)(Ie.a,{align:"right",children:"Shots played"}),Object(w.jsx)(Ie.a,{align:"right",children:"Hits"}),Object(w.jsx)(Ie.a,{align:"right",children:"Downed ships"}),Object(w.jsx)(Ie.a,{align:"right",children:"Date"})]})}),Object(w.jsx)(Me.a,{children:e.map((function(e,t){return Object(w.jsxs)(Ce.a,{children:[Object(w.jsx)(Ie.a,{component:"th",scope:"row",children:t+1}),Object(w.jsx)(Ie.a,{align:"right",children:e.maxShotsNumber}),Object(w.jsx)(Ie.a,{align:"right",children:e.numberOfShotsPlayed}),Object(w.jsx)(Ie.a,{align:"right",children:e.hits}),Object(w.jsx)(Ie.a,{align:"right",children:e.downedShipsNumber}),Object(w.jsx)(Ie.a,{align:"right",children:e.date.toLocaleString()})]},e.id)}))})]})})})},Ae=function(){return Object(w.jsx)(x.a,{children:Object(w.jsx)(O.a,{p:3,children:Object(w.jsx)(p.a,{variant:"h4",children:"404 error page"})})})},Ee=function(){var e=Object(j.a)(Object(o.a)({},P));return Object(w.jsx)(s.a,{children:Object(w.jsxs)(b.a,{theme:e,children:[Object(w.jsx)(h.a,{}),Object(w.jsx)(l.a,{children:Object(w.jsx)(d.a,{basename:"https://moiseshp.github.io/battleship/",children:Object(w.jsx)(k,{children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{path:"/games",component:Be}),Object(w.jsx)(u.a,{path:"/",component:ze,exact:!0}),Object(w.jsx)(u.a,{component:Ae})]})})})})]})})},Fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(w.jsx)(Ee,{}),document.getElementById("root")),Fe()}},[[125,1,2]]]);
//# sourceMappingURL=main.4eed4bc8.chunk.js.map